FILE(0,384)
  AngelScriptGlobalFunctionDeclImpl(GLOBAL_FUNCTION_DECL)(0,264)
    AngelScriptFunctionDeclImpl(FUNCTION_DECL)(0,264)
      AngelScriptFunctionSignatureImpl(FUNCTION_SIGNATURE)(0,11)
        AngelScriptReturnTypeImpl(RETURN_TYPE)(0,4)
          PsiElement(AngelScriptTokenType.VOID)('void')(0,4)
        PsiWhiteSpace(' ')(4,5)
        PsiElement(AngelScriptTokenType.IDENTIFIER)('Test')(5,9)
        PsiElement(AngelScriptTokenType.OPEN_PARENTHESIS)('(')(9,10)
        AngelScriptParameterListImpl(PARAMETER_LIST)(10,10)
          <empty list>
        PsiElement(AngelScriptTokenType.CLOSE_PARENTHESIS)(')')(10,11)
      PsiWhiteSpace('\n')(11,12)
      AngelScriptFunctionBodyImpl(FUNCTION_BODY)(12,264)
        PsiElement(AngelScriptTokenType.START_STATEMENT_BLOCK)('{')(12,13)
        PsiWhiteSpace('\n    ')(13,18)
        PsiComment(AngelScriptTokenType.COMMENT)('// This reproduces the incremental lexing bug:')(18,64)
        PsiWhiteSpace('\n    ')(64,69)
        PsiComment(AngelScriptTokenType.COMMENT)('// 1. Start with: auto Foo = f"";')(69,102)
        PsiWhiteSpace('\n    ')(102,107)
        PsiComment(AngelScriptTokenType.COMMENT)('// 2. Type { or } inside the f-string')(107,144)
        PsiWhiteSpace('\n    ')(144,149)
        PsiComment(AngelScriptTokenType.COMMENT)('// 3. Lexer state corruption occurs during incremental update')(149,210)
        PsiWhiteSpace('\n\n    ')(210,216)
        AngelScriptStatementImpl(STATEMENT)(216,246)
          AngelScriptVariableDeclImpl(VARIABLE_DECL)(216,246)
            AngelScriptTypenameImpl(TYPENAME)(216,220)
              AngelScriptPrimitiveTypeImpl(PRIMITIVE_TYPE)(216,220)
                PsiElement(AngelScriptTokenType.AUTO)('auto')(216,220)
            PsiWhiteSpace(' ')(220,221)
            AngelScriptVariableDeclaratorImpl(VARIABLE_DECLARATOR)(221,245)
              PsiElement(AngelScriptTokenType.IDENTIFIER)('Foo')(221,224)
              PsiWhiteSpace(' ')(224,225)
              AngelScriptVariableInitializerImpl(VARIABLE_INITIALIZER)(225,245)
                PsiElement(AngelScriptTokenType.ASSIGNMENT)('=')(225,226)
                PsiWhiteSpace(' ')(226,227)
                AngelScriptPrimaryExprImpl(PRIMARY_EXPR)(227,245)
                  AngelScriptFstringLiteralImpl(FSTRING_LITERAL)(227,245)
                    PsiElement(AngelScriptTokenType.FSTRING_BEGIN)('f"')(227,229)
                    AngelScriptFstringContentImpl(FSTRING_CONTENT)(229,244)
                      AngelScriptFstringExpressionImpl(FSTRING_EXPRESSION)(229,244)
                        PsiElement(AngelScriptTokenType.FSTRING_EXPR_BEGIN)('{')(229,230)
                        AngelScriptPrimaryExprImpl(PRIMARY_EXPR)(230,243)
                          AngelScriptScopedIdentifierImpl(SCOPED_IDENTIFIER)(230,243)
                            AngelScriptIdentifierReferenceImpl(IDENTIFIER_REFERENCE)(230,243)
                              PsiElement(AngelScriptTokenType.IDENTIFIER)('PropertyDepth')(230,243)
                        PsiElement(AngelScriptTokenType.FSTRING_EXPR_END)('}')(243,244)
                    PsiElement(AngelScriptTokenType.FSTRING_END)('"')(244,245)
            PsiElement(AngelScriptTokenType.END_STATEMENT)(';')(245,246)
        PsiWhiteSpace('\n    ')(246,251)
        PsiElement(AngelScriptTokenType.AUTO)('auto')(251,255)
        PsiWhiteSpace(' ')(255,256)
        PsiElement(AngelScriptTokenType.IDENTIFIER)('Bar')(256,259)
        PsiWhiteSpace(' ')(259,260)
        PsiElement(AngelScriptTokenType.ASSIGNMENT)('=')(260,261)
        PsiWhiteSpace(' ')(261,262)
        PsiElement(AngelScriptTokenType.FSTRING_BEGIN)('f"')(262,264)
        PsiErrorElement:<fstring content> or AngelScriptTokenType.FSTRING_END expected, got '}'(264,264)
          <empty list>
  PsiElement(BAD_CHARACTER)('}')(264,265)
  PsiElement(DUMMY_BLOCK)(265,384)
    PsiElement(AngelScriptTokenType.FSTRING_END)('"')(265,266)
    PsiElement(AngelScriptTokenType.END_STATEMENT)(';')(266,267)
    PsiWhiteSpace('  ')(267,269)
    PsiComment(AngelScriptTokenType.COMMENT)('// Edge case: closing brace in f-string')(269,308)
    PsiWhiteSpace('\n    ')(308,313)
    PsiElement(AngelScriptTokenType.AUTO)('auto')(313,317)
    PsiWhiteSpace(' ')(317,318)
    PsiElement(AngelScriptTokenType.IDENTIFIER)('Baz')(318,321)
    PsiWhiteSpace(' ')(321,322)
    PsiElement(AngelScriptTokenType.ASSIGNMENT)('=')(322,323)
    PsiWhiteSpace(' ')(323,324)
    PsiElement(AngelScriptTokenType.FSTRING_BEGIN)('f"')(324,326)
    PsiElement(AngelScriptTokenType.FSTRING_EXPR_BEGIN)('{')(326,327)
    PsiElement(BAD_CHARACTER)('"')(327,328)
    PsiElement(BAD_CHARACTER)(';')(328,329)
    PsiWhiteSpace('  ')(329,331)
    PsiComment(AngelScriptTokenType.COMMENT)('// Edge case: opening brace in f-string (malformed)')(331,382)
    PsiWhiteSpace('\n')(382,383)
    PsiElement(AngelScriptTokenType.FSTRING_EXPR_END)('}')(383,384)